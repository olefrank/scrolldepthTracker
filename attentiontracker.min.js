var AttentionTracker=(function(){var c=0;var g=-1;var h;var i;var b={element:document.querySelector(".article"),scrollDepthPercentage:20,eventHandler:d};function f(){window.onscroll=function(){clearTimeout(h);h=setTimeout(function(){var l=j();if(l>g){g=l;b.eventHandler(e(g))}},150)}}function j(){var l;var q=b.element.getBoundingClientRect();var m=q.top;var p=q.height;var o=window.innerHeight;var n=b.scrollDepthPercentage/100;if(m<=o){l=(o-m)/p;if(i===undefined){i=new Date()}l=l>1?1:~~(l/n)*n}return l}function e(p){var l;var o;var m=b.scrollDepthPercentage/100;var n=0;var q=new Date().getTime()-i.getTime();while(n<p){n=(c*m)<1?(c*m):1;l="sd_"+Math.round(n*100)+"="+q;if(o===undefined){o=l}else{o+="&"+l}c++}if(c===0){o="sd_0=0";c++}return o}function d(l){console.log("simulate event: "+l)}function a(m){for(var l in m){b[l]=m[l]}}function k(l){a(l);f()}return{init:k}})();